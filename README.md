# Project Setup Guide

## Prerequisites

Before beginning the setup process, ensure the following software is installed on your system:

| Software   | Minimum Version | Purpose                                      |
|-------------|-----------------|----------------------------------------------|
| **Node.js** | 20.0.0+         | JavaScript runtime for both client and server |
| **pnpm**    | 10.12.4+        | Package manager specified in `packageManager` field |
| **PostgreSQL** | 14.0+        | Database system for job data storage         |
| **Git**     | 2.0+            | Version control for cloning the repository   |

## Tech Stack

Frontend: React + Vite, Tailwind CSS
Backend: NodeJS, ExpressJS, Prisma ORM
Language: Typescript
Database: PostgreSQL (Locally using Docker)
Crawler: Puppeteer

---

## Step 1: Clone the Repository

```bash
git clone https://github.com/SinghaAnirban005/bee-assignment.git
cd bee-assignment
```

## Step 2: Install pnpm
The project requires pnpm version 10.12.4.

```bash
npm install -g pnpm@10.12.4
```

## Step 3: Install Dependencies
Install dependencies for all packages. Each package must be installed separately:

Install server dependencies

```bash
cd server
pnpm install
```

Install client dependencies

```bash
cd ../client/bee-client
pnpm install
```

Install prisma dependencies

```bash
cd ../../prisma
pnpm install
```

## Step 4: Configure Environment Variables
Create a .env file inside the server/ directory with the following variables:

```bash
PORT=3000
DATABASE_URL="postgresql://username:password@localhost:5432/jobboard?schema=public"
```

## Step 5: Initialize the Database
Run Prisma migrations to create the database schema:

```bash
cd prisma
pnpm prisma migrate dev --name init_schema
```

## Step 6: Generate Prisma Client
If not already generated by the migration command:

```bash
cd prisma
pnpm prisma generate
```

# Running the Application

## Terminal 1 - Backend Server

```bash
cd server
pnpm run dev
```

The server starts on port 3000 and immediately begins crawling Indeed.com to populate the database.

## Terminal 2 - Frontend Client

```bash
cd client/bee-client
pnpm run dev
```

Access the application at: http://localhost:5173

The client automatically proxies API requests to http://localhost:3000
.

---

# Architectural Choices

![alt text](image.png)

### Three-Tier Architecture
The application follows a classic three-tier pattern with React frontend, Express backend, and PostgreSQL database accessed via Prisma ORM

### Web Scraping with Anti-Detection
The crawler implements stealth techniques including user agent rotation, webdriver property masking, and realistic HTTP headers to avoid bot detection.

### Human-Like Behavior Simulation
Random delays and scrolling patterns to mimic human browsing behavior.

### RESTful API Design
The backend exposes /jobs endpoint with query parameters for search, filtering, pagination, and sorting.

### Database Schema
The Job model uses a composite unique constraint on source and sourceId to prevent duplicate job listings, with indexes on all searchable fields for performance.

# Limitations

### Limited Crawl Depth
Crawler is configured to scrape a maximum of 3 pages per run

### Single-Threaded Crawler
Crawling is not parallelized, limiting throughput

### Fragile Selectors
Web scraping relies on Indeed's DOM structure which may change

### No Job Expiration
Old job listings are never automatically removed from the database